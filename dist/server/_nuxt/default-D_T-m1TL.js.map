{"version":3,"file":"default-D_T-m1TL.js","sources":["../../../../components/Header.vue","../../../../components/Header.vue","../../../../layouts/default.vue"],"sourcesContent":["<script lang=\"ts\">\r\nimport { defineComponent, ref } from 'vue';\r\nimport { useAuthStore } from '~/stores/Auth';\r\nimport {useRouter, useRoute} from \"vue-router\";\r\n\r\nexport default defineComponent({\r\n  name: \"Header\",\r\n  setup() {\r\n    const open = ref(false);\r\n    const authStore = useAuthStore();\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n\r\n    const onToggleBurger = () => {\r\n      open.value = !open.value;\r\n    };\r\n\r\n    const onLogout = () => {\r\n      authStore.logout();\r\n      router.push('/login')\r\n    };\r\n\r\n    const linkInfo = computed(() => {\r\n      if (route.path === '/login') {\r\n        return { path: '/register', text: 'Регистрация' };\r\n      } else if (route.path === '/register') {\r\n        return { path: '/login', text: 'Вход' };\r\n      } else {\r\n        return { path: '/login', text: 'Выход', logout: true };\r\n      }\r\n    });\r\n\r\n    return { open, onToggleBurger, onLogout, linkInfo };\r\n  }\r\n});\r\n</script>\r\n\r\n<template>\r\n  <header class=\"shrink-0 flex justify-between px-4 py-3 items-center bg-[#262626]\">\r\n    <nav class=\"w-full justify-between items-center md:flex\">\r\n      <div class=\"flex justify-between items-center\">\r\n        <h1 class=\"font-bold py-4 text-white text-3xl\">\r\n          <a href=\"/\" class=\"hover:text-gray-700 cursor-pointer\">KanBoard</a>\r\n        </h1>\r\n        <button  @click=\"onToggleBurger()\" class=\"px-4 cursor-pointer md:hidden\" id=\"burger\">\r\n          <svg class=\"w-9\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"#FFF\" className=\"w-6 h-6\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      <ul class=\"flex justify-end items-center transition-all ease-in-out duration-200 md:scale-y-100\" :class=\"[open ? 'h-10' : 'scale-y-0  h-0']\" id=\"menu\">\r\n        <li class=\"px-4\">\r\n          <NuxtLink :to=\"linkInfo.path\" class=\"font-medium text-white text-2xl\" @click=\"linkInfo.logout ? onLogout() : null\">\r\n            {{ linkInfo.text }}\r\n          </NuxtLink>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </header>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>","<script lang=\"ts\">\r\nimport { defineComponent, ref } from 'vue';\r\nimport { useAuthStore } from '~/stores/Auth';\r\nimport {useRouter, useRoute} from \"vue-router\";\r\n\r\nexport default defineComponent({\r\n  name: \"Header\",\r\n  setup() {\r\n    const open = ref(false);\r\n    const authStore = useAuthStore();\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n\r\n    const onToggleBurger = () => {\r\n      open.value = !open.value;\r\n    };\r\n\r\n    const onLogout = () => {\r\n      authStore.logout();\r\n      router.push('/login')\r\n    };\r\n\r\n    const linkInfo = computed(() => {\r\n      if (route.path === '/login') {\r\n        return { path: '/register', text: 'Регистрация' };\r\n      } else if (route.path === '/register') {\r\n        return { path: '/login', text: 'Вход' };\r\n      } else {\r\n        return { path: '/login', text: 'Выход', logout: true };\r\n      }\r\n    });\r\n\r\n    return { open, onToggleBurger, onLogout, linkInfo };\r\n  }\r\n});\r\n</script>\r\n\r\n<template>\r\n  <header class=\"shrink-0 flex justify-between px-4 py-3 items-center bg-[#262626]\">\r\n    <nav class=\"w-full justify-between items-center md:flex\">\r\n      <div class=\"flex justify-between items-center\">\r\n        <h1 class=\"font-bold py-4 text-white text-3xl\">\r\n          <a href=\"/\" class=\"hover:text-gray-700 cursor-pointer\">KanBoard</a>\r\n        </h1>\r\n        <button  @click=\"onToggleBurger()\" class=\"px-4 cursor-pointer md:hidden\" id=\"burger\">\r\n          <svg class=\"w-9\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"#FFF\" className=\"w-6 h-6\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      <ul class=\"flex justify-end items-center transition-all ease-in-out duration-200 md:scale-y-100\" :class=\"[open ? 'h-10' : 'scale-y-0  h-0']\" id=\"menu\">\r\n        <li class=\"px-4\">\r\n          <NuxtLink :to=\"linkInfo.path\" class=\"font-medium text-white text-2xl\" @click=\"linkInfo.logout ? onLogout() : null\">\r\n            {{ linkInfo.text }}\r\n          </NuxtLink>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </header>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>","<script setup lang=\"ts\">\r\nimport {useRouter} from \"vue-router\";\r\nimport {onMounted} from \"vue\";\r\nimport {useLoaderStore} from \"~/stores/Loader\";\r\n\r\nconst loaderStore = useLoaderStore();\r\nconst authStore = useAuthStore();\r\nconst router = useRouter();\r\nloaderStore.toggleIsLoading(true)\r\n\r\n  onMounted(async () => {\r\n    const token = localStorage.getItem('accessToken');\r\n    if (token) {\r\n      authStore.setAuthentication(true);\r\n    } else {\r\n      authStore.setAuthentication(false);\r\n      await router.push('/login');\r\n    }\r\n    loaderStore.toggleIsLoading(false)\r\n  })\r\n</script>\r\n\r\n<template>\r\n\r\n  <div>\r\n    <div v-if=\"loaderStore.isLoading\" class=\"flex justify-center items-center text-9xl text-white min-h-screen\">Загрузка...</div>\r\n    <div v-else class=\"flex flex-col min-h-screen bg-[#191919] select-none\">\r\n      <Header />\r\n      <slot />\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<style>\r\n\r\n</style>"],"names":["__nuxt_component_0","_ssrRenderAttrs","_mergeProps","_ssrRenderClass","_ssrRenderComponent","_withCtx","_push","linkInfo"],"mappings":";;;;;;;;;;;;;;;;;;;AAKA,MAAA,cAAe,gBAAgB;AAAA,EAC7B,MAAM;AAAA,EACN,QAAQ;AACA,UAAA,OAAO,IAAI,KAAK;AACtB,UAAM,YAAY;AAClB,UAAM,SAAS;AACf,UAAM,QAAQ;AAEd,UAAM,iBAAiB,MAAM;AACtB,WAAA,QAAQ,CAAC,KAAK;AAAA,IAAA;AAGrB,UAAM,WAAW,MAAM;AACrB,gBAAU,OAAO;AACjB,aAAO,KAAK,QAAQ;AAAA,IAAA;AAGhB,UAAA,WAAW,SAAS,MAAM;AAC1B,UAAA,MAAM,SAAS,UAAU;AAC3B,eAAO,EAAE,MAAM,aAAa,MAAM,cAAc;AAAA,MAAA,WACvC,MAAM,SAAS,aAAa;AACrC,eAAO,EAAE,MAAM,UAAU,MAAM,OAAO;AAAA,MAAA,OACjC;AACL,eAAO,EAAE,MAAM,UAAU,MAAM,SAAS,QAAQ;MAClD;AAAA,IAAA,CACD;AAED,WAAO,EAAE,MAAM,gBAAgB,UAAU,SAAS;AAAA,EACpD;AACF,CAAC;;AClCD,QAAA,sBAAAA;AAAA,QAAA,UAAAC,eAAAC,WAkDoH,0pBAlDpHC,eAoDsC,CAAA,CAAA,KAAA,OAAA,SAAA,gBAAA,GAAA,sFAAA,CAAA,CAAA,+BAAA;AAAE,QAAAC,mBAAM,qBAAiC;AAAA,IAAE,IAAK,KAAA,SAAA;AAAA,IAAA,OAAA;AAAA,IApDtF,SAsDqB,CAAA,WAAA,KAAA,SAAA,SAAA,KAAA,SAAA,IAAA;AAAA,EAAA,GAAA;AAAA,IAtDrB,SAAAC,QAAA,CAAA,GAAAC,QAqDeC,UAAa,aAAA;;;MArD5B,OAAA;;;;MAAA;AAAA,IAAA,CAAA;AAAA,IAAA,GAAA;AAAA,EAAA,GAAA,OAAA,CAAA;;;;;;;;;;;;;;ACKA,UAAM,cAAc;AACF,iBAAa;AAChB,cAAU;AACzB,gBAAY,gBAAgB,IAAI;;;;;;;;;;;;;;;;;;;;;;"}